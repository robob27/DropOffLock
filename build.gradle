buildscript {
    repositories {
        maven { url 'https://maven.minecraftforge.net/' }
        mavenCentral()
        flatDir name: 'libs', dirs: "$projectDir/libs"
    }
    dependencies {
        classpath 'net.minecraftforge.gradle:ForgeGradle:5.+'
    }
}

apply plugin: 'net.minecraftforge.gradle'

version = "1.12.2-0.1.0a"
group = "robob27.mod.dropofflock"
archivesBaseName = "dropofflock"

sourceCompatibility = targetCompatibility = compileJava.sourceCompatibility = compileJava.targetCompatibility = '1.8'

minecraft {
  mappings channel: 'snapshot', version: '20171003-1.12'
  accessTransformer = file('src/main/resources/invtweaks_at.cfg')
	
	runs {
		"client" {
			workingDirectory file("./run")
			mods { "${project.name}" { source sourceSets.main } }
		}
		
		"server" {
			workingDirectory file("./run/server")
			mods { "${project.name}" { source sourceSets.main } }
		}
	}
}

dependencies {
  minecraft 'net.minecraftforge:forge:1.12.2-14.23.5.2860'

  implementation files('libs/UnknownLibs-1.1.2.jar')
}

processResources {
	inputs.property "version", project.version
	
	filesMatching("mcmod.info") {
		expand "version": project.version
	}
}
